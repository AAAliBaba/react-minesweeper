{"ast":null,"code":"var _jsxFileName = \"/Users/arafatarman/Documents/ReactProjects/minesweeper/src/index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nclass Cell extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      row: this.props.row,\n      col: this.props.col,\n      value: this.props.value,\n      face: this.props.face\n    };\n  }\n\n  onCellClick() {\n    // this.state.value === \"bomb\" ? this.setState({face: '*'}) : this.setState({face: this.state.value})\n    if (this.state.value === \"bomb\") {\n      this.setState({\n        face: '*'\n      });\n    } else {\n      this.setState({\n        face: this.state.value\n      });\n    }\n  }\n\n  render() {\n    return (// <button className=\"cell\" onClick={() => this.onCellClick()}>\n      //     {this.state.face}\n      // </button>\n      React.createElement(\"button\", {\n        className: \"cell\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, this.state.face)\n    );\n  }\n\n}\n\nfunction init_board() {\n  var arr = [];\n\n  for (var i = 0; i < 9; i++) {\n    arr[i] = new Array(9);\n  }\n\n  for (var k = 0; k < 9; k++) {\n    for (var j = 0; j < 9; j++) {\n      var val = arr[k][j];\n      arr[k][j] = React.createElement(Cell, {\n        row: k,\n        col: j,\n        value: val,\n        face: null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      });\n    }\n  }\n\n  var count = 0;\n\n  while (count < 10) {\n    var rand_r = Math.floor(Math.random() * 9);\n    var rand_c = Math.floor(Math.random() * 9);\n\n    while (arr[rand_r][rand_c] === 'bomb') {\n      rand_r = Math.floor(Math.random() * 9);\n      rand_c = Math.floor(Math.random() * 9);\n    }\n\n    arr[rand_r][rand_c] = 'bomb';\n    count++;\n  }\n\n  var neighbor_rows = [-1, -1, -1, 0, 0, 1, 1, 1];\n  var neighbor_cols = [-1, 0, 1, -1, 1, -1, 0, 1];\n\n  for (var i = 0; i < 9; i++) {\n    for (var j = 0; j < 9; j++) {\n      if (arr[i][j] !== 'bomb') {\n        var cnt_mines = 0;\n\n        for (var k = 0; k < 9; k++) {\n          var row_to_check = i + neighbor_rows[k];\n          var col_to_check = j + neighbor_cols[k];\n\n          if (row_to_check < 0 || row_to_check > 9 || col_to_check < 0 || col_to_check > 9) {\n            continue;\n          } else {\n            try {\n              if (arr[row_to_check][col_to_check] === 'bomb') {\n                cnt_mines++;\n              }\n            } catch (error) {//some NaN/undefined error we can ignore\n            }\n          }\n        }\n\n        arr[i][j] = cnt_mines;\n      }\n    }\n  }\n\n  return arr;\n}\n\nclass Board extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cells: init_board()\n    };\n  }\n\n  handleClick(row, col, value) {\n    // alert(\"\" + row + \" \" + col + \" \" + value);\n    var revealed_cells = [];\n\n    for (var i = 0; i < 9; i++) {\n      revealed_cells[i] = new Array(9);\n    }\n\n    for (var k = 0; k < 9; k++) {\n      for (var j = 0; j < 9; j++) {\n        if (k === row && j === col) {\n          var face = value;\n\n          if (face === 'bomb') {\n            face = '*';\n          }\n\n          revealed_cells[k][j] = this.renderCell(row, col, value, face);\n        } else {\n          revealed_cells[k][j] = this.state.cells[k][j];\n        }\n      }\n    }\n\n    this.setState({\n      cells: revealed_cells\n    });\n  }\n\n  renderCell(r, c, v, f) {\n    return React.createElement(Cell, {\n      row: r,\n      col: c,\n      value: v,\n      face: f,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    });\n  }\n\n  render() {\n    // var init = [];\n    // for(var i = 0; i < 9; i++)\n    // {\n    //     init[i] = new Array(9);\n    // }\n    // init_board(init);\n    // for(var k = 0; k < 9; k++)\n    // {\n    //     for(var j = 0; j < 9; j++)\n    //     {\n    //         var val = init[k][j];\n    //         init[k][j] = <Cell key={k + 1} row={k} col={j} value={val} face={null}/>;\n    //     }\n    // }\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Minesweeper.React\"), React.createElement(\"div\", {\n      className: \"grid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, this.state.cells));\n  }\n\n}\n\nclass Game extends React.Component {\n  render() {\n    return React.createElement(Board, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    });\n  }\n\n}\n\nReactDOM.render(React.createElement(Game, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 187\n  },\n  __self: this\n}), document.getElementById('root'));","map":{"version":3,"sources":["/Users/arafatarman/Documents/ReactProjects/minesweeper/src/index.js"],"names":["React","ReactDOM","Cell","Component","constructor","props","state","row","col","value","face","onCellClick","setState","render","init_board","arr","i","Array","k","j","val","count","rand_r","Math","floor","random","rand_c","neighbor_rows","neighbor_cols","cnt_mines","row_to_check","col_to_check","error","Board","cells","handleClick","revealed_cells","renderCell","r","c","v","f","Game","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nclass Cell extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            row: this.props.row,\n            col: this.props.col,\n            value: this.props.value,\n            face: this.props.face,\n        }\n    }\n\n    onCellClick() {\n        // this.state.value === \"bomb\" ? this.setState({face: '*'}) : this.setState({face: this.state.value})\n        if(this.state.value === \"bomb\")\n        {\n            this.setState({face: '*'});\n        }\n        else\n        {\n            this.setState({face: this.state.value});\n        }\n    }\n\n    render() {\n        return (\n            // <button className=\"cell\" onClick={() => this.onCellClick()}>\n            //     {this.state.face}\n            // </button>\n            <button className=\"cell\">\n                {this.state.face}\n            </button>\n        );\n    }\n}\n\nfunction init_board() {\n\n    var arr = [];\n    for(var i = 0; i < 9; i++)\n    {\n        arr[i] = new Array(9);\n    }\n    for(var k = 0; k < 9; k++)\n    {\n        for(var j = 0; j < 9; j++)\n        {\n            var val = arr[k][j];\n            arr[k][j] = <Cell row={k} col={j} value={val} face={null}/>;\n        }\n    }\n\n    var count = 0;\n    while(count < 10)\n    {\n        var rand_r = Math.floor(Math.random() * 9);\n        var rand_c = Math.floor(Math.random() * 9);\n        while(arr[rand_r][rand_c] === 'bomb')\n        {\n            rand_r = Math.floor(Math.random() * 9);\n            rand_c = Math.floor(Math.random() * 9);\n        }\n        arr[rand_r][rand_c] = 'bomb';\n        count++;\n    }\n\n    var neighbor_rows = [-1, -1, -1, 0, 0,   1, 1, 1];\n    var neighbor_cols = [-1,  0,  1, -1, 1, -1, 0, 1];\n\n    for(var i = 0; i < 9; i++)\n    {\n        for(var j = 0; j < 9; j++)\n        {\n            if(arr[i][j] !== 'bomb')\n            {\n                var cnt_mines = 0;\n                for(var k = 0; k < 9; k++)\n                {\n                    var row_to_check = i + neighbor_rows[k];\n                    var col_to_check = j + neighbor_cols[k];\n                    if(row_to_check < 0 || row_to_check > 9 || col_to_check < 0 || col_to_check > 9)\n                    {\n                        continue;\n                    }\n                    else\n                    {\n                        try {\n                            if(arr[row_to_check][col_to_check] === 'bomb')\n                                {\n                                    cnt_mines++;\n                                }\n                        } catch (error) {\n                            //some NaN/undefined error we can ignore\n                        }\n                    }\n                }\n                arr[i][j] = cnt_mines;\n            }\n        }\n    }\n    return arr;\n}\n\nclass Board extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            cells: init_board(),\n        }\n    }\n\n    handleClick(row, col, value) {\n        // alert(\"\" + row + \" \" + col + \" \" + value);\n        var revealed_cells = [];\n        for(var i = 0; i < 9; i++)\n        {\n            revealed_cells[i] = new Array(9);\n        }\n        for(var k = 0; k < 9; k++)\n        {\n            for(var j = 0; j < 9; j++)\n            {\n                if(k === row && j === col)\n                {\n                    var face = value;\n                    if(face === 'bomb')\n                    {\n                        face = '*';\n                    }\n                    revealed_cells[k][j] = this.renderCell(row, col, value, face);\n                }\n                else\n                {\n                    revealed_cells[k][j] = this.state.cells[k][j];\n                }\n            }\n        }\n    \n        this.setState({cells: revealed_cells});\n    }\n\n    renderCell(r, c, v, f) {\n        return <Cell row={r} col={c} value={v} face={f}/>\n    }\n\n    render() {\n\n        // var init = [];\n        // for(var i = 0; i < 9; i++)\n        // {\n        //     init[i] = new Array(9);\n        // }\n        // init_board(init);\n        // for(var k = 0; k < 9; k++)\n        // {\n        //     for(var j = 0; j < 9; j++)\n        //     {\n        //         var val = init[k][j];\n        //         init[k][j] = <Cell key={k + 1} row={k} col={j} value={val} face={null}/>;\n        //     }\n        // }\n\n        return (\n            <div>\n                <h2>Minesweeper.React</h2>\n                <div className=\"grid\">\n                    {this.state.cells}\n                </div>\n            </div>\n        )\n    }\n}\n\nclass Game extends React.Component {\n    render() {\n        return(\n            <Board />\n        );\n    }\n}\n\nReactDOM.render(\n    <Game />,\n    document.getElementById('root')\n  );"]},"metadata":{},"sourceType":"module"}